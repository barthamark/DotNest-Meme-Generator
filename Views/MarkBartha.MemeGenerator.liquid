<div class="bg-light p-3">

  <div id="memeUploader">
    <h5>1. Upload an image</h5>
    <input id="uploader" type="file">
  </div>
  
  <div id="memeEditor" hidden>

    <h5>2. Edit meme</h5>
    <img id="meme" src="" alt="Uploaded image">

    <h5 class="mt-3">3. Download</h5>
    <button id="download" class="btn w-100">Download</button>
  </div>
</div>

<script type="text/javascript">
  ;
  (function ($) {
    $(function () {
      $memeUploader = $("#memeUploader");
      $memeEditor = $("#memeEditor");
      $meme = $("#meme");
      $download = $("#download");
      $("#uploader").change(function () {
        $memeUploader.hide();
        var img = document.querySelector('#meme');
        var file = this.files[0];
        var reader = new FileReader();
        reader.onloadend = function () {
          img.src = reader.result;
          $memeEditor.removeAttr("hidden");
          $memeEditor.show();
          $meme.memeGenerator({
              useBootstrap: true
          });
          $download.click(function (e) {
            e.preventDefault();
            $meme.memeGenerator("download");
          });
        }
        if (file) {
          reader.readAsDataURL(file);
        } else {
          img.src = "";
        }
      });
    });
  })(jQuery);
</script>